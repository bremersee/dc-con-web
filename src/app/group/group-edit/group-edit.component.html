<h2 class="text-center p-4">{{group.name}}</h2>

<ng-container *ngIf="descriptionMode === 'display'">
  <h4>
    Description
    <span *ngIf="canEdit" class="pl-2">
        <a href="javascript:void(0)" (click)="displayEditDescription()">
          <fa-icon [icon]="editDescriptionIcon"></fa-icon>
        </a>
      </span>
  </h4>
  <ul class="list-group">
    <li class="list-group-item d-flex">
      {{group.description}}
    </li>
  </ul>
</ng-container>

<ng-container *ngIf="descriptionMode === 'add'">
  <a href="javascript:void(0)" (click)="displayEditDescription()">Add description</a>
</ng-container>

<ng-container *ngIf="descriptionMode === 'edit'">
  <h4>
    <label for="description">Description</label>
  </h4>
  <textarea #newDescription [value]="group.description"
            class="form-control rounded-0"
            id="description"></textarea>
  <button class="btn btn-primary" (click)="saveDescription(newDescription.value)">
    Save
  </button>
  <button class="btn btn-secondary" (click)="cancelEditDescription()">
    Cancel
  </button>
</ng-container>

<h4>Members</h4>
<ul class="list-group">
  <li *ngFor="let member of members"
      class="list-group-item d-flex justify-content-between align-items-center">
    <span>
      {{member.user.userName}}
      <span *ngIf="member.user.displayName" class="ml-2">
        ({{member.user.displayName}})
      </span>
    </span>
    <label class="switch">
      <input *ngIf="member.isMember" (click)="toggleMember(member)"
             type="checkbox" checked [disabled]="!canEdit"/>
      <input *ngIf="!member.isMember" (click)="toggleMember(member)"
             type="checkbox" [disabled]="!canEdit"/>
      <span class="slider round"></span>
    </label>
  </li>
</ul>
